<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
</head>
<body class="container">
  <h4 class="text-center"> Please Fill the Details to get started</h4>
    <form>
      <div class="form-group">
          <label for="firstname">First Name: </label>
          <input type="text" name="name" id="firstname" class="form-control">
      </div>
      <div class="form-group">
          <label for="lastname">Last Name: </label>
          <input type="text" name="name" id="lastname" class="form-control">
      </div>
      <div class="form-group">
        <select onchange="test()" name="plans" class="form-control" multiple>
                  <option value="10"> 10$ Per Month- Plan1</option>
                  <option value="20">20$ Per Month Plan2</option>
                  <option value="30">30$ Per Month Plan3</option>
                  <option value="40">40 $ Per Month Plan4</option>
          </select>
        </div>
          <button onclick="getSelected()" class="btn btn-primary">Submit</button>
          <br>
          <div id="total" class="badge badge-warning badge-lg mt-3"></div>
    </form>
</body>
<script>
  function test(){
    var el = document.getElementsByTagName('select')[0];
    var plans = getSelectValues(el);
    let total = plans.reduce((prev,next) => parseInt(prev)+parseInt(next) );  
    $('#total').html(`Your total is: $${total}`);
  }
function getSelected(){
    var el = document.getElementsByTagName('select')[0];
    var plans = getSelectValues(el);
    var firstname = $('#firstname').val();
    var lastname = $('#lastname').val();
    var id = Math.floor(Math.random() * 88888888);
    event.preventDefault();
    var d = new Date().toDateString();
    if(firstname == ''){
      alert('please fill Firstname');
      return 0;
    }
    else if(lastname == ''){
      alert('please fill lastname');
      return 0;
    }else if(plans.length == 0){
      alert('please choose plan');
      return 0;
    }
    window.location.href = "/postdata?plans="+plans+"&&Date="+d+"&&fname="+firstname+"&&lname="+lastname+"&&id="+id;
}

function getSelectValues(select) {
  var result = [];
  var options = select && select.options;
  var opt;

  for (var i=0, iLen=options.length; i<iLen; i++) {
    opt = options[i];

    if (opt.selected) {
      result.push(opt.value || opt.text);
    }
  }
  return result;
}
</script>
</html>
